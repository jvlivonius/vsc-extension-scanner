# v5.0.3 Module-by-Module Risk Display Roadmap

**Status:** üìã Planning Phase
**Type:** Patch Release - Feature Enhancement
**Target Release:** TBD
**Estimated Effort:** 4-6 hours
**Schema Version:** 5.0 (unchanged)

---

## Executive Summary

Implement CLI and HTML display of rich security data that was added to the database in v4.0.0. This feature surfaces the 11 security analysis modules with their individual risk levels and score contributions, providing transparency into how extension security scores are calculated.

### Current State (v5.0.2)

**Data Storage:** ‚úÖ Complete (v4.0.0)
- All 11 security analysis modules stored in database
- Module risk levels and score contributions available in `scan_result` JSON blob
- Data accessible via JSON exports

**Display Layer:** ‚è≥ Incomplete
- CLI shows only overall score (e.g., "82/100")
- HTML reports show basic extension information
- Users don't see breakdown of what contributed to the score

### Problem Statement

Users see aggregate security scores but lack transparency into the underlying analysis:

```bash
# Current output
Extension: Python (ms-python.python)
Score: 82/100 | Risk: Medium üü°

# User questions:
- "Why is this rated 82/100?" ‚ùå No answer
- "What security issues exist?" ‚ùå Not visible
- "Which modules flagged concerns?" ‚ùå Hidden
```

### Solution: Module-by-Module Risk Display

Add `--detailed` flag to CLI and enhanced HTML sections to show all 11 security modules with their risk assessments and score impacts.

**From v5.x-enhancement-opportunities.md Priority 3:**
> "Module-by-Module Risk Display (4-6 hours) - Add `--detailed` flag for verbose CLI output. Power users see all 11 security module assessments."

---

## Goals & Success Criteria

### Primary Goals

1. **Transparency:** Users understand how security scores are calculated
2. **Actionable Insights:** Users identify specific security concerns
3. **Power User Support:** Detailed mode for comprehensive analysis
4. **Maintain Quality:** No test coverage regression (<87%)

### Success Criteria

- ‚úÖ `--detailed` flag implemented in CLI
- ‚úÖ All 11 security modules displayed with risk levels
- ‚úÖ Score contributions shown for each module
- ‚úÖ HTML reports include module breakdown section
- ‚úÖ Test coverage maintained at 87%+
- ‚úÖ All tests passing (1,224+ tests)
- ‚úÖ 0 architecture violations
- ‚úÖ 0 security vulnerabilities
- ‚úÖ Documentation updated (CLAUDE.md, PRD.md, README.md)

---

## Technical Context

### Database Schema (v5.0)

**Data Location:** `cache.db` ‚Üí `extensions` table ‚Üí `scan_result` JSON blob

**Module Risk Levels Structure:**
```python
"module_risk_levels": {
    "metadata": "low",
    "dependencies": "medium",
    "socket": "high",           # Socket.dev supply chain analysis
    "virus_total": "low",       # VirusTotal malware scanning
    "permissions": "high",      # VS Code permission analysis
    "ossf_scorecard": "medium", # OpenSSF Scorecard metrics
    "network_endpoints": "high",# Network call detection
    "sensitive_info": "low",    # Credential/secret scanning
    "obfuscation": "high",      # Code obfuscation detection
    "consolidated_ast": "low",  # AST-based analysis
    "open_grep": "low"          # Pattern-based scanning
}
```

**Score Contributions Structure:**
```python
"score_contributions": {
    "base": 100,
    "metadata": 0,
    "dependencies": -5,
    "socket": -15,              # Major negative impact
    "permissions": -3,
    "obfuscation": -10          # Suspicious obfuscation found
    # ... (11 total modules)
}
```

### Module Display Names

| Database Key | Display Name | Description |
|--------------|--------------|-------------|
| `metadata` | Metadata | Extension metadata analysis |
| `dependencies` | Dependencies | Dependency vulnerability check |
| `socket` | Socket (Supply Chain) | Socket.dev supply chain analysis |
| `virus_total` | VirusTotal | Malware scanning results |
| `permissions` | Permissions | VS Code permission analysis |
| `ossf_scorecard` | OSSF Scorecard | OpenSSF security metrics |
| `network_endpoints` | Network Endpoints | Network call detection |
| `sensitive_info` | Sensitive Info | Credential/secret scanning |
| `obfuscation` | Obfuscation | Code obfuscation detection |
| `consolidated_ast` | AST Analysis | AST-based code analysis |
| `open_grep` | Pattern Scanning | Pattern-based security checks |

---

## Phase 1: CLI Enhancement (3-4 hours)

### 1.1 Add --detailed Flag

**Priority:** HIGH
**Effort:** 30 minutes
**Risk:** LOW

**File:** `vscode_scanner/cli.py`

**Changes:**
```python
@app.command()
def scan(
    # ... existing parameters ...
    detailed: bool = typer.Option(
        False,
        "--detailed",
        help="Show detailed security module breakdown"
    ),
):
    """Scan installed VS Code extensions"""

    # Pass detailed flag to scanner or display layer
    results = scanner.scan_extensions(
        # ... existing args ...
        detailed=detailed
    )
```

**Testing:**
- Test `--detailed` flag parsing
- Test flag combinations (e.g., `--detailed --quiet`)
- Test backward compatibility (no regression without flag)

**Acceptance Criteria:**
- [x] `--detailed` flag added to CLI
- [x] Flag parsed correctly
- [x] Help text clear and descriptive
- [x] Tests passing

---

### 1.2 Create Module Display Formatter

**Priority:** HIGH
**Effort:** 2 hours
**Risk:** LOW

**File:** `vscode_scanner/display.py`

**New Function:**
```python
def format_security_modules(
    result: ScanResult,
    detailed: bool = False,
    console: Console = None
) -> None:
    """
    Display security module breakdown.

    Args:
        result: Scan result containing module_risk_levels
        detailed: If True, show all modules; if False, show summary
        console: Rich console for output (None = create new)
    """
    if not detailed:
        return

    # Extract module data from scan_result JSON
    module_risks = result.module_risk_levels or {}
    score_contributions = result.score_contributions or {}

    if not module_risks:
        return  # No detailed data available

    # Create table
    table = Table(title="Security Analysis Breakdown")
    table.add_column("Module", style="cyan", no_wrap=True)
    table.add_column("Risk", style="bold")
    table.add_column("Score Impact", justify="right")
    table.add_column("", style="dim")  # Warning icon

    # Add base score
    table.add_row(
        "Base",
        "-",
        "+100",
        ""
    )

    # Module display order (high risk first)
    for module_key, display_name in MODULE_DISPLAY_NAMES.items():
        risk_level = module_risks.get(module_key, "unknown")
        score_impact = score_contributions.get(module_key, 0)

        # Style based on risk level
        risk_style = _get_risk_style(risk_level)
        icon = _get_risk_icon(risk_level)

        # Format score impact
        impact_str = f"{score_impact:+d}" if score_impact != 0 else "0"

        table.add_row(
            display_name,
            risk_level.title(),
            impact_str,
            icon
        )

    # Add final score row
    table.add_section()
    table.add_row(
        "Final Score",
        "",
        f"{result.score}/100",
        "",
        style="bold"
    )

    console = console or Console()
    console.print(table)

# Helper functions
MODULE_DISPLAY_NAMES = {
    "metadata": "Metadata",
    "dependencies": "Dependencies",
    "socket": "Socket (Supply Chain)",
    "virus_total": "VirusTotal",
    "permissions": "Permissions",
    "ossf_scorecard": "OSSF Scorecard",
    "network_endpoints": "Network Endpoints",
    "sensitive_info": "Sensitive Info",
    "obfuscation": "Obfuscation",
    "consolidated_ast": "AST Analysis",
    "open_grep": "Pattern Scanning"
}

def _get_risk_style(risk_level: str) -> str:
    """Return Rich style for risk level."""
    return {
        "high": "red bold",
        "medium": "yellow",
        "low": "green",
        "none": "dim"
    }.get(risk_level.lower(), "white")

def _get_risk_icon(risk_level: str) -> str:
    """Return warning icon for risk level."""
    return {
        "high": "‚ö†Ô∏è",
        "medium": "‚ö°",
        "low": "‚úì",
        "none": ""
    }.get(risk_level.lower(), "")
```

**Testing:**
- Unit tests for `format_security_modules()`
- Test with all risk level combinations
- Test with missing data (graceful degradation)
- Test with empty module_risk_levels
- Visual regression tests (capture output)

**Acceptance Criteria:**
- [x] Function displays 11 modules correctly
- [x] Risk levels color-coded properly
- [x] Score contributions formatted correctly
- [x] Handles missing data gracefully
- [x] Tests passing with 90%+ coverage

---

### 1.3 Integrate Module Display into Scan Output

**Priority:** HIGH
**Effort:** 1 hour
**Risk:** LOW

**File:** `vscode_scanner/display.py`

**Modify:** `display_results()` function

**Changes:**
```python
def display_results(
    results: List[ScanResult],
    quiet: bool = False,
    detailed: bool = False,
    console: Console = None
) -> None:
    """Display scan results with optional detailed module breakdown."""

    console = console or Console()

    if quiet:
        # Minimal output for CI
        _display_quiet_results(results, console)
        return

    for result in results:
        # Display standard result information
        _display_extension_header(result, console)
        _display_risk_summary(result, console)

        # NEW: Display module breakdown if detailed mode
        if detailed:
            format_security_modules(result, detailed=True, console=console)
            console.print()  # Add spacing

        # Continue with existing output
        _display_vulnerabilities(result, console)
```

**Testing:**
- Integration tests with `--detailed` flag
- Test with multiple extensions
- Test with `--quiet --detailed` (quiet should win)
- Test output formatting consistency

**Acceptance Criteria:**
- [x] Module breakdown appears in correct location
- [x] Spacing and formatting consistent
- [x] Works with multiple extensions
- [x] `--quiet` suppresses detailed output
- [x] Tests passing

---

### 1.4 Add CLI Examples to Documentation

**Priority:** MEDIUM
**Effort:** 30 minutes
**Risk:** LOW

**Files:** `CLAUDE.md`, `README.md`, `PRD.md`

**CLAUDE.md Updates:**
```markdown
### Common Operations

| Task | Command | Notes |
|------|---------|-------|
| **Output** | `vscan scan --output FILE` | .json/.html/.csv |
| **Detailed** | `vscan scan --detailed` | Show security module breakdown |
| **Workers** | `vscan scan --workers N` | 1-5 (3 default) |
```

**README.md Updates:**
```markdown
## Usage Examples

# Show detailed security module breakdown
vscan scan --detailed

# Detailed output with HTML report
vscan scan --detailed --output report.html

# Filter high-risk extensions with details
vscan scan --min-risk high --detailed
```

**PRD.md Updates:**
```markdown
## CLI Flags

- `--detailed`: Display security module breakdown (11 modules with risk levels)
```

**Acceptance Criteria:**
- [x] CLAUDE.md updated with `--detailed` flag
- [x] README.md includes usage examples
- [x] PRD.md documents feature
- [x] Examples tested and working

---

## Phase 2: HTML Report Enhancement (1-2 hours)

### 2.1 Add Module Breakdown Section to HTML Template

**Priority:** HIGH
**Effort:** 1-1.5 hours
**Risk:** LOW

**File:** `vscode_scanner/html_report_generator.py`

**New HTML Section:**
```html
<!-- Add after extension header, before vulnerabilities -->
<div class="module-breakdown">
    <h3>üîç Security Analysis Breakdown</h3>
    <table class="module-table">
        <thead>
            <tr>
                <th>Module</th>
                <th>Risk Level</th>
                <th>Score Impact</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Base Score</td>
                <td class="risk-none">-</td>
                <td class="score-positive">+100</td>
            </tr>
            {% for module_key, display_name in MODULE_NAMES.items() %}
            <tr>
                <td>{{ display_name }}</td>
                <td class="risk-{{ module_risks[module_key]|lower }}">
                    {{ module_risks[module_key]|title }}
                    {% if module_risks[module_key] == 'high' %}‚ö†Ô∏è{% endif %}
                </td>
                <td class="score-{{ 'positive' if score_contributions[module_key] >= 0 else 'negative' }}">
                    {{ "%+d" % score_contributions[module_key] if score_contributions[module_key] != 0 else "0" }}
                </td>
            </tr>
            {% endfor %}
            <tr class="final-score">
                <td><strong>Final Score</strong></td>
                <td></td>
                <td><strong>{{ result.score }}/100</strong></td>
            </tr>
        </tbody>
    </table>
</div>
```

**CSS Styles:**
```css
.module-breakdown {
    margin: 20px 0;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 8px;
}

.module-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

.module-table th {
    background: #e9ecef;
    padding: 10px;
    text-align: left;
    border-bottom: 2px solid #dee2e6;
}

.module-table td {
    padding: 8px 10px;
    border-bottom: 1px solid #dee2e6;
}

.risk-high {
    color: #dc3545;
    font-weight: bold;
}

.risk-medium {
    color: #ffc107;
    font-weight: bold;
}

.risk-low {
    color: #28a745;
}

.risk-none {
    color: #6c757d;
}

.score-positive {
    color: #28a745;
    font-weight: bold;
}

.score-negative {
    color: #dc3545;
    font-weight: bold;
}

.final-score {
    border-top: 2px solid #495057;
    font-weight: bold;
}
```

**Testing:**
- Visual tests for HTML output
- Test with all risk level combinations
- Test with missing data
- Test CSS rendering across browsers
- Test self-contained HTML (no external dependencies)

**Acceptance Criteria:**
- [x] Module breakdown section displays correctly
- [x] Risk levels color-coded properly
- [x] Score contributions formatted correctly
- [x] Responsive design (mobile-friendly)
- [x] Self-contained (no external dependencies)
- [x] Tests passing

---

### 2.2 Update HTML Generator Logic

**Priority:** HIGH
**Effort:** 30 minutes
**Risk:** LOW

**File:** `vscode_scanner/html_report_generator.py`

**Modify:** `generate_html_report()` function

**Changes:**
```python
def generate_html_report(
    results: List[ScanResult],
    output_path: str,
    timestamp: str = None
) -> None:
    """Generate HTML report with module breakdown."""

    # ... existing code ...

    # Prepare template context
    context = {
        'results': results,
        'timestamp': timestamp or datetime.now().isoformat(),
        'total_extensions': len(results),
        'MODULE_NAMES': MODULE_DISPLAY_NAMES,
        # Add helper for extracting module data
        'get_module_data': _get_module_data_for_result,
    }

    # ... render template ...

def _get_module_data_for_result(result: ScanResult) -> dict:
    """Extract module risk levels and score contributions."""
    return {
        'module_risks': result.module_risk_levels or {},
        'score_contributions': result.score_contributions or {}
    }
```

**Testing:**
- Integration tests for HTML generation
- Test with multiple extensions
- Test with missing module data
- Validate HTML structure
- Check file size (should remain self-contained)

**Acceptance Criteria:**
- [x] Module data passed to template correctly
- [x] HTML renders without errors
- [x] Handles missing data gracefully
- [x] Tests passing

---

## Phase 3: Testing & Validation (1-2 hours)

### 3.1 Unit Tests

**Priority:** CRITICAL
**Effort:** 1 hour
**Risk:** LOW

**New Test File:** `tests/test_module_display.py`

**Test Coverage:**
```python
class TestModuleDisplay:
    """Tests for module-by-module risk display."""

    def test_format_security_modules_with_all_data(self):
        """Test module display with complete data."""
        result = ScanResult(
            extension_id="test.extension",
            score=82,
            module_risk_levels={
                "permissions": "high",
                "socket": "high",
                "dependencies": "medium",
                # ... all 11 modules
            },
            score_contributions={
                "base": 100,
                "permissions": -8,
                "socket": -10,
                # ... all 11 modules
            }
        )

        # Test output format
        # Test risk styling
        # Test score calculation

    def test_format_security_modules_missing_data(self):
        """Test graceful degradation with missing data."""
        result = ScanResult(
            extension_id="test.extension",
            score=85,
            module_risk_levels=None,  # Missing
            score_contributions=None  # Missing
        )

        # Should not crash
        # Should display appropriately

    def test_format_security_modules_partial_data(self):
        """Test with only some modules present."""
        # Test subset of modules

    def test_risk_level_styling(self):
        """Test risk level color/style mapping."""
        # Test high, medium, low, none

    def test_score_contribution_formatting(self):
        """Test score impact display (+/-/0)."""
        # Test positive, negative, zero

    def test_module_display_order(self):
        """Test modules displayed in correct order."""
        # Verify ordering logic
```

**Parametrized Tests:**
```python
@pytest.mark.parametrize("risk_level,expected_style", [
    ("high", "red bold"),
    ("medium", "yellow"),
    ("low", "green"),
    ("none", "dim"),
])
def test_risk_styles(risk_level, expected_style):
    """Test risk level styling."""
    assert _get_risk_style(risk_level) == expected_style

@pytest.mark.parametrize("risk_level,expected_icon", [
    ("high", "‚ö†Ô∏è"),
    ("medium", "‚ö°"),
    ("low", "‚úì"),
    ("none", ""),
])
def test_risk_icons(risk_level, expected_icon):
    """Test risk level icons."""
    assert _get_risk_icon(risk_level) == expected_icon
```

**Acceptance Criteria:**
- [x] 90%+ coverage for new code
- [x] All edge cases tested
- [x] Parametrized tests for variations
- [x] Tests passing

---

### 3.2 Integration Tests

**Priority:** HIGH
**Effort:** 30 minutes
**Risk:** LOW

**Test File:** `tests/test_cli_detailed_flag.py`

**Test Coverage:**
```python
class TestDetailedFlag:
    """Integration tests for --detailed flag."""

    def test_detailed_flag_displays_modules(self, tmp_path):
        """Test --detailed shows module breakdown."""
        # Run CLI with --detailed
        # Capture output
        # Verify module table present

    def test_detailed_with_quiet_suppresses_modules(self):
        """Test --quiet overrides --detailed."""
        # Run CLI with --detailed --quiet
        # Verify minimal output (no module table)

    def test_detailed_with_output_includes_modules(self, tmp_path):
        """Test HTML output includes module section."""
        # Run CLI with --detailed --output report.html
        # Parse HTML
        # Verify module-breakdown div present

    def test_detailed_with_multiple_extensions(self):
        """Test --detailed with multiple extensions."""
        # Test formatting consistency
```

**Acceptance Criteria:**
- [x] CLI integration tests passing
- [x] HTML integration tests passing
- [x] Flag combinations tested
- [x] No regressions in existing tests

---

### 3.3 Security & Architecture Validation

**Priority:** CRITICAL
**Effort:** 30 minutes
**Risk:** LOW

**Commands:**
```bash
# Security validation
python3 tests/test_security_regression.py

# Architecture validation
python3 tests/test_architecture.py

# Full test suite
python3 -m pytest tests/

# Coverage check
python3 -m pytest tests/ --cov=vscode_scanner --cov-report=term
```

**Acceptance Criteria:**
- [x] 0 security vulnerabilities
- [x] 0 architecture violations
- [x] Coverage maintained at 87%+
- [x] All tests passing (1,224+ tests)

---

## Phase 4: Documentation & Release (30 minutes)

### 4.1 Update Documentation

**Priority:** MEDIUM
**Effort:** 20 minutes
**Risk:** LOW

**Files to Update:**
1. **CHANGELOG.md** - Add v5.0.3 entry
2. **CLAUDE.md** - Update command reference
3. **README.md** - Add usage examples
4. **PRD.md** - Document feature
5. **STATUS.md** - Update to v5.0.3
6. **v5.x-enhancement-opportunities.md** - Mark Priority 3 as complete

**CHANGELOG.md Entry:**
```markdown
## [5.0.3] - TBD

### Added
- **Module-by-Module Risk Display** (#issue): Added `--detailed` flag to CLI showing breakdown of all 11 security analysis modules with risk levels and score contributions
- HTML reports now include Security Analysis Breakdown section with module details
- Rich formatted tables showing risk levels (high/medium/low) with visual indicators

### Changed
- Enhanced `display.py` with `format_security_modules()` function
- Updated HTML report template with module breakdown section
- Improved transparency into security score calculations

### Testing
- Added `test_module_display.py` with 15+ unit tests
- Added integration tests for `--detailed` flag
- Maintained 87%+ test coverage
```

**Acceptance Criteria:**
- [x] All documentation files updated
- [x] Examples tested and working
- [x] CHANGELOG.md complete
- [x] STATUS.md reflects v5.0.3

---

### 4.2 Version Bump & Release

**Priority:** HIGH
**Effort:** 10 minutes
**Risk:** LOW

**Commands:**
```bash
# Bump version
python3 scripts/bump_version.py 5.0.3

# Verify changes
git diff

# Run full test suite
python3 -m pytest tests/

# Build package
python3 -m build
```

**Git Workflow:**
```bash
# Create feature branch
git checkout main
git pull
git checkout -b feature/module-risk-display

# Commit changes
git add .
git commit -m "feat(display): add module-by-module risk display with --detailed flag

- Add --detailed flag to CLI for verbose security module output
- Implement format_security_modules() in display.py
- Add Security Analysis Breakdown section to HTML reports
- Show all 11 security modules with risk levels and score contributions
- Add comprehensive unit and integration tests
- Update documentation (CLAUDE.md, README.md, PRD.md)

Closes #<issue-number>

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>"

# Push and create PR
git push origin feature/module-risk-display
gh pr create --title "feat(display): Add module-by-module risk display" \
  --body "## Summary
- Implements Priority 3 from v5.x-enhancement-opportunities.md
- Adds \`--detailed\` flag showing 11 security modules
- Enhances HTML reports with module breakdown section

## Testing
- 15+ new unit tests
- Integration tests for CLI flag
- Maintained 87%+ coverage
- 0 security vulnerabilities
- 0 architecture violations

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)"
```

**Acceptance Criteria:**
- [x] Version bumped to 5.0.3
- [x] Package builds successfully
- [x] Git workflow completed
- [x] PR created and merged

---

## Risk Assessment & Mitigation

### Risk 1: Test Coverage Regression
**Severity:** MEDIUM
**Probability:** LOW
**Impact:** Coverage drops below 87%

**Mitigation:**
- Write tests alongside implementation (TDD approach)
- Run coverage checks after each phase
- Focus on comprehensive unit test coverage for new functions
- Use parametrized tests to maximize coverage efficiently

---

### Risk 2: UI Inconsistency
**Severity:** LOW
**Probability:** MEDIUM
**Impact:** CLI and HTML displays don't match

**Mitigation:**
- Use shared MODULE_DISPLAY_NAMES constant
- Consistent risk level styling across CLI and HTML
- Visual regression tests for HTML output
- Manual QA review before release

---

### Risk 3: Missing Module Data
**Severity:** LOW
**Probability:** MEDIUM
**Impact:** Some extensions lack module_risk_levels data

**Mitigation:**
- Graceful degradation when data missing
- Display message: "Detailed analysis not available"
- Fallback to standard display
- No errors or crashes

---

### Risk 4: Scope Creep
**Severity:** LOW
**Probability:** MEDIUM
**Impact:** Feature expands beyond 4-6 hours

**Mitigation:**
- Strict adherence to roadmap phases
- Defer enhancements to v5.0.4 (e.g., score contribution charts)
- Time-box each phase
- Focus on core functionality only

---

## Future Enhancements (Deferred)

### Score Contribution Chart (v5.0.4)
- Visual bar chart of score contributions
- ASCII art for CLI, Chart.js for HTML
- Effort: 2-3 hours
- From v5.x-enhancement-opportunities.md Priority 2

### Security Notes Display (v5.0.4)
- Expert commentary on security findings
- Effort: 1-2 hours
- From v5.x-enhancement-opportunities.md Priority 1

### Enhanced Metadata Display (v5.0.4)
- Install counts, ratings, repository links
- Effort: 2-3 hours
- From v5.x-enhancement-opportunities.md Priority 4

---

## Timeline & Effort Estimate

| Phase | Effort | Dependencies |
|-------|--------|--------------|
| Phase 1: CLI Enhancement | 3-4 hours | None |
| Phase 2: HTML Enhancement | 1-2 hours | Phase 1 |
| Phase 3: Testing | 1-2 hours | Phases 1-2 |
| Phase 4: Documentation | 30 minutes | Phase 3 complete |
| **Total** | **6-9 hours** | Sequential |

**Target Completion:** 1-2 days (single developer)

---

## Example Output

### CLI Output (--detailed)

```bash
$ vscan scan --detailed

Extension: Python (ms-python.python)
Score: 82/100 | Risk: Medium üü°

Security Analysis Breakdown
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Module                  Risk      Score Impact
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Base                    -              +100
Permissions             High             -8  ‚ö†Ô∏è
Socket (Supply Chain)   High            -10  ‚ö†Ô∏è
Network Endpoints       Medium           -5
Dependencies            Low              -2
VirusTotal              Low               0
Obfuscation             None              0
OSSF Scorecard          Medium           -3
Sensitive Info          Low               0
AST Analysis            Low               0
Pattern Scanning        Low               0
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Final Score                            82/100
```

### HTML Output

```html
<div class="module-breakdown">
    <h3>üîç Security Analysis Breakdown</h3>
    <table class="module-table">
        <thead>
            <tr>
                <th>Module</th>
                <th>Risk Level</th>
                <th>Score Impact</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Base Score</td>
                <td class="risk-none">-</td>
                <td class="score-positive">+100</td>
            </tr>
            <tr>
                <td>Permissions</td>
                <td class="risk-high">High ‚ö†Ô∏è</td>
                <td class="score-negative">-8</td>
            </tr>
            <!-- ... 9 more modules ... -->
            <tr class="final-score">
                <td><strong>Final Score</strong></td>
                <td></td>
                <td><strong>82/100</strong></td>
            </tr>
        </tbody>
    </table>
</div>
```

---

## Conclusion

This roadmap provides a clear, focused plan for implementing module-by-module risk display in v5.0.3. By surfacing rich security data already stored in the database (v4.0.0), we provide transparency and actionable insights to users with minimal risk and effort.

**Key Advantages:**
1. **Data Already Available:** No database schema changes needed
2. **Low Risk:** Primarily presentation layer work
3. **High User Value:** Answers "why this score?" question
4. **Quick Implementation:** 6-9 hours estimated
5. **Foundation for Future:** Enables Priority 1 & 2 features in v5.0.4

**Ready for Implementation:** ‚úÖ YES
