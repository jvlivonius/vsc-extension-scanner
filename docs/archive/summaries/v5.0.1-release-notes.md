# Release Notes: v5.0.1 - CLI Cleanup & Version Bump

**Release Date:** November 8, 2025
**Status:** Production Ready

---

## Executive Summary

Version 5.0.1 is a maintenance release that cleans up deprecated CLI flags and aligns the version number with the schema version after v5.0.0's major database redesign. This release also adds parallel test execution infrastructure for improved CI/CD performance.

### Key Metrics

| Metric | v5.0.0 | v5.0.1 | Change |
|--------|--------|--------|--------|
| **Overall Coverage** | 86.25% | **86.25%** | Maintained |
| **Tests** | 1,141 | **1,141** | Maintained |
| **Schema Version** | 5.0 | **5.0** | Maintained |
| **Security Vulns** | 0 | **0** | ✅ Maintained |
| **Arch Violations** | 0 | **0** | ✅ Maintained |

### Strategic Achievements

- ✅ **Removed deprecated --parallel flag** (parallel is default since v3.5.0)
- ✅ **Parallel test execution with pytest-xdist**
- ✅ **Improved CI/CD workflows** for speed and maintainability
- ✅ **Version alignment** with schema version
- ✅ **0 security vulnerabilities** maintained
- ✅ **0 architecture violations** maintained

---

## What's New

### Feature 1: Parallel Test Execution

Added pytest-xdist support for parallel test execution, dramatically improving CI/CD performance.

**New Capability:**
```bash
# Run tests with 4 workers
pytest -n 4

# Auto-detect CPU count
pytest -n auto
```

**Impact:**
- Test execution time reduced in CI environments
- Worker isolation for cache tests (prevents conflicts)
- Better utilization of multi-core systems

---

## Improvements

### CLI Cleanup
- **Removed deprecated --parallel flag** - Parallel processing has been the default since v3.5.0
- **Streamlined command-line interface** - Reduced complexity and cognitive load
- **Improved error messaging** - Clearer feedback for invalid flag combinations

### Test Infrastructure
- **Parallel test execution** - pytest-xdist integration for faster CI/CD
- **Worker isolation** - Proper test isolation for parallel execution
- **Improved test reliability** - Better handling of shared resources

### CI/CD Improvements
- **Optimized GitHub Actions workflows** - Faster execution with parallel tests
- **Better workflow organization** - Clear separation of test types
- **Improved maintainability** - Simplified workflow configuration

---

## Breaking Changes

### Removed: --parallel flag

- **Removed in:** v5.0.1
- **Reason:** Parallel processing is the default since v3.5.0, flag was deprecated and unused
- **Migration:** No action required - parallel processing works automatically
- **Alternative:** Use `--workers N` to control worker count (default: 3)

**Before (v5.0.0 and earlier):**
```bash
vscan scan --parallel --workers 5  # --parallel was ignored/deprecated
```

**After (v5.0.1+):**
```bash
vscan scan --workers 5  # Just use --workers
```

---

## Installation

### New Installation

```bash
pip install vscode_extension_scanner-5.0.1-py3-none-any.whl
```

### Upgrade from Previous Version

```bash
pip install --upgrade vscode_extension_scanner-5.0.1-py3-none-any.whl
```

**Verify installation:**
```bash
vscan --version
# Should show: 5.0.1
```

---

## Upgrade Notes

### From v5.0.0

- No special upgrade steps required
- Remove any usage of --parallel flag (no longer recognized)
- Cache schema unchanged

### From v4.x

- Cache auto-regenerates on first run (schema v4.0 → v5.0)
- All data preserved in scan_result JSON blob
- No manual migration required

### Database/Cache

- No cache migration required from v5.0.0
- Cache schema remains at version 5.0
- All cached data remains compatible

---

## Known Issues

None - All known issues from v5.0.0 have been resolved.

---

## Deprecation Notices

None - The --parallel flag was removed (not deprecated) as it was already non-functional.

---

## Documentation

- **Full Changelog:** [CHANGELOG.md](../../CHANGELOG.md)
- **User Guide:** [README.md](../../README.md)
- **Developer Guide:** [CLAUDE.md](../../CLAUDE.md)

---

## Testing

This release has been tested on:

- ✅ macOS 15.1.0 (Darwin 25.1.0) - primary platform
- ✅ Python 3.8, 3.9, 3.10, 3.11, 3.12 - GitHub Actions CI

**Test coverage:**
- 65 test files
- 1,141 total tests
- 86.25% code coverage

**Quality metrics:**
- ✅ 0 security vulnerabilities
- ✅ 0 architecture violations
- ✅ All tests passing

---

## Contributors

This release was developed by the VS Code Extension Scanner team.

---

## Feedback

Found a bug? Have a feature request?

- **Issues:** https://github.com/jvlivonius/vsc-extension-scanner/issues
- **Documentation:** https://github.com/jvlivonius/vsc-extension-scanner/tree/main/docs

---

## What's Next

Planned for v5.0.2:

- Test parametrization improvements
- Property-based testing expansion
- Documentation updates
- Test quality enhancements

---

**Happy scanning! Stay secure.**
